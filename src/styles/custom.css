:root {
  /* Layout settings */
  --sl-content-width: 75%;
  --sl-sidebar-width: 21rem;
}

/* Light theme (default) */
:root,
:root[data-theme="light"] {
  /* Light theme colors - white backgrounds, dark text */
  --sl-color-white: oklch(1 0 0);
  --sl-color-black: oklch(0.145 0 0);
  --sl-color-text: oklch(0.145 0 0);
  --sl-color-text-accent: oklch(0.205 0 0);
  --sl-color-bg: oklch(1 0 0);
  --sl-color-bg-nav: oklch(1 0 0);
  --sl-color-bg-sidebar: oklch(0.97 0 0);
  --sl-color-bg-inline-code: oklch(0.97 0 0);
  --sl-color-hairline-light: oklch(0.922 0 0);
  --sl-color-hairline: oklch(0.922 0 0);
  --sl-color-border-nav: oklch(0.922 0 0);
  --sl-color-gray-1: oklch(0.145 0 0); /* Text on light backgrounds */
  --sl-color-gray-2: oklch(0.205 0 0); /* Secondary text */
  --sl-color-gray-3: oklch(0.371 0 0); /* Tertiary text */
  --sl-color-gray-4: oklch(0.556 0 0); /* Muted text */
  --sl-color-gray-5: oklch(0.922 0 0); /* Borders */
  --sl-color-gray-6: oklch(0.97 0 0); /* Light backgrounds */

  /* Heading colors */
  --sl-color-text-heading: oklch(0.145 0 0);
  --sl-color-text-h1: oklch(0.145 0 0);
  --sl-color-text-h2: oklch(0.145 0 0);
  --sl-color-text-h3: oklch(0.145 0 0);
  --sl-color-text-h4: oklch(0.145 0 0);
  --sl-color-text-h5: oklch(0.145 0 0);
  --sl-color-text-h6: oklch(0.145 0 0);

  /* Code block colors for light theme */
  --ec-codeBg: oklch(0.97 0 0);
  --ec-codeFg: oklch(0.145 0 0);
  --astro-code-color-text: oklch(0.145 0 0);
  --astro-code-color-background: oklch(0.97 0 0);
  --astro-code-token-constant: oklch(0.205 0 0);
  --astro-code-token-string: oklch(0.371 0 0);
  --astro-code-token-comment: oklch(0.556 0 0);
  --astro-code-token-keyword: oklch(0.205 0 0);
  --astro-code-token-parameter: oklch(0.145 0 0);
  --astro-code-token-function: oklch(0.371 0 0);
  --astro-code-token-string-expression: oklch(0.371 0 0);
  --astro-code-token-punctuation: oklch(0.556 0 0);
  --astro-code-token-link: oklch(0.205 0 0);
}

/* Dark theme */
:root[data-theme="dark"],
.dark {
  /* Dark theme colors */
  --sl-color-white: oklch(0.985 0 0);
  --sl-color-black: oklch(0.145 0 0);
  --sl-color-text: oklch(0.985 0 0);
  --sl-color-text-accent: oklch(0.922 0 0);
  --sl-color-bg: oklch(0.145 0 0);
  --sl-color-bg-nav: oklch(0.205 0 0);
  --sl-color-bg-sidebar: oklch(0.205 0 0);
  --sl-color-bg-inline-code: oklch(0.269 0 0);
  --sl-color-hairline-light: oklch(0.275 0 0);
  --sl-color-hairline: oklch(0.275 0 0);
  --sl-color-border-nav: oklch(0.275 0 0);
  --sl-color-gray-1: oklch(0.985 0 0); /* Text on dark backgrounds */
  --sl-color-gray-2: oklch(0.922 0 0); /* Secondary text */
  --sl-color-gray-3: oklch(0.85 0 0); /* Tertiary text */
  --sl-color-gray-4: oklch(0.708 0 0); /* Muted text */
  --sl-color-gray-5: oklch(0.325 0 0); /* Borders */
  --sl-color-gray-6: oklch(0.269 0 0); /* Dark backgrounds */

  /* Heading colors */
  --sl-color-text-heading: oklch(0.985 0 0);
  --sl-color-text-h1: oklch(0.985 0 0);
  --sl-color-text-h2: oklch(0.985 0 0);
  --sl-color-text-h3: oklch(0.985 0 0);
  --sl-color-text-h4: oklch(0.985 0 0);
  --sl-color-text-h5: oklch(0.985 0 0);
  --sl-color-text-h6: oklch(0.985 0 0);

  /* Code block colors for dark theme */
  --ec-codeBg: oklch(0.205 0 0);
  --ec-codeFg: oklch(0.985 0 0);
  --astro-code-color-text: oklch(0.985 0 0);
  --astro-code-color-background: oklch(0.205 0 0);
  --astro-code-token-constant: oklch(0.922 0 0);
  --astro-code-token-string: oklch(0.708 0 0);
  --astro-code-token-comment: oklch(0.556 0 0);
  --astro-code-token-keyword: oklch(0.922 0 0);
  --astro-code-token-parameter: oklch(0.985 0 0);
  --astro-code-token-function: oklch(0.708 0 0);
  --astro-code-token-string-expression: oklch(0.708 0 0);
  --astro-code-token-punctuation: oklch(0.556 0 0);
  --astro-code-token-link: oklch(0.922 0 0);
}

/* Nova theme specific overrides for light theme */
:root,
:root[data-theme="light"] {
  --nano-color-bg-sidebar: oklch(0.97 0 0);
  --nano-color-fg-sidebar: oklch(0.145 0 0);
  --sl-color-bg-nav: oklch(1 0 0);
  --sl-color-accent-low: oklch(0.97 0 0);
  --sl-color-accent: oklch(0.205 0 0);
  --sl-color-accent-high: oklch(0.145 0 0);
  --sl-color-bg: oklch(1 0 0);
  --sl-color-bg-sidebar: oklch(0.97 0 0);

  /* Pagefind specific variables for light theme */
  --pagefind-ui-primary: oklch(0.205 0 0);
  --pagefind-ui-text: oklch(0.145 0 0);
  --pagefind-ui-background: oklch(1 0 0);
  --pagefind-ui-border: oklch(0.922 0 0);
  --pagefind-ui-border-width: 1px;
  --pagefind-ui-border-radius: 0px;
  --pagefind-ui-image-border-radius: 0px;
  --pagefind-ui-scale: 1;
  --pagefind-ui-font: inherit;
}

/* Force sidebar background in light mode - Nova theme specific */
:root[data-theme="light"] .nova-page-frame-sidebar-pane,
:root:not([data-theme="dark"]) .nova-page-frame-sidebar-pane {
  background-color: oklch(0.97 0 0) !important;
  background: oklch(0.97 0 0) !important;
}

/* Target all sidebar-related elements */
:root[data-theme="light"] .sidebar-pane,
:root[data-theme="light"] [class*="sidebar"],
:root[data-theme="light"] aside,
html:not([data-theme="dark"]) .sidebar-pane,
html:not([data-theme="dark"]) [class*="sidebar"],
html:not([data-theme="dark"]) aside {
  background-color: oklch(0.97 0 0) !important;
  background: oklch(0.97 0 0) !important;
  color: oklch(0.145 0 0) !important;
}

/* Ensure text in sidebar is visible */
:root[data-theme="light"] .sidebar-pane *,
:root[data-theme="light"] [class*="sidebar"] *,
html:not([data-theme="dark"]) .sidebar-pane *,
html:not([data-theme="dark"]) [class*="sidebar"] * {
  color: oklch(0.145 0 0);
}

/* Nova theme specific overrides for dark theme */
:root[data-theme="dark"] {
  --nano-color-bg-sidebar: oklch(0.205 0 0);
  --nano-color-fg-sidebar: oklch(0.985 0 0);
  --sl-color-bg-nav: oklch(0.205 0 0 / 0.5);
  --sl-color-accent-low: oklch(0.145 0 0);
  --sl-color-accent: oklch(0.922 0 0);
  --sl-color-accent-high: oklch(0.97 0 0);

  /* Pagefind specific variables for dark theme */
  --pagefind-ui-primary: oklch(0.922 0 0);
  --pagefind-ui-text: oklch(0.985 0 0);
  --pagefind-ui-background: oklch(0.205 0 0);
  --pagefind-ui-border: oklch(0.325 0 0);
  --pagefind-ui-border-width: 1px;
  --pagefind-ui-border-radius: 0px;
  --pagefind-ui-image-border-radius: 0px;
  --pagefind-ui-scale: 1;
  --pagefind-ui-font: inherit;
}

/* Search bar fixes for light theme - comprehensive targeting */
:root[data-theme="light"] .pagefind-ui__search-input,
:root[data-theme="light"] .pagefind-ui__form input,
:root[data-theme="light"] input[type="search"],
:root[data-theme="light"] .DocSearch-Input,
:root[data-theme="light"] dialog input,
:root[data-theme="light"] .search input,
:root[data-theme="light"] [class*="search"] input,
:root:not([data-theme="dark"]) .pagefind-ui__search-input,
:root:not([data-theme="dark"]) .pagefind-ui__form input,
:root:not([data-theme="dark"]) input[type="search"],
:root:not([data-theme="dark"]) .DocSearch-Input,
:root:not([data-theme="dark"]) dialog input,
:root:not([data-theme="dark"]) .search input,
:root:not([data-theme="dark"]) [class*="search"] input,
html:not(.dark) .pagefind-ui__search-input,
html:not(.dark) input[type="search"],
html:not(.dark) dialog input {
  background-color: oklch(1 0 0) !important;
  background: oklch(1 0 0) !important;
  color: oklch(0.145 0 0) !important;
  border-color: oklch(0.922 0 0) !important;
}

/* Override any hover states that might be interfering */
:root[data-theme="light"] .pagefind-ui__search-input:hover,
:root[data-theme="light"] input[type="search"]:hover,
:root:not([data-theme="dark"]) .pagefind-ui__search-input:hover,
:root:not([data-theme="dark"]) input[type="search"]:hover {
  background-color: oklch(1 0 0) !important;
  background: oklch(1 0 0) !important;
}

/* Target the search button/trigger that opens search dialog */
:root[data-theme="light"] button[data-open-modal],
:root[data-theme="light"] .search-item button,
:root[data-theme="light"] [aria-label*="Search"],
:root:not([data-theme="dark"]) button[data-open-modal],
:root:not([data-theme="dark"]) .search-item button,
:root:not([data-theme="dark"]) [aria-label*="Search"] {
  background-color: oklch(0.97 0 0) !important;
  color: oklch(0.145 0 0) !important;
  border-color: oklch(0.922 0 0) !important;
}

/* Search dialog background for light theme */
:root[data-theme="light"] dialog,
:root[data-theme="light"] .pagefind-ui__modal,
:root[data-theme="light"] .pagefind-ui__drawer,
:root:not([data-theme="dark"]) dialog,
:root:not([data-theme="dark"]) .pagefind-ui__modal,
:root:not([data-theme="dark"]) .pagefind-ui__drawer {
  background-color: oklch(1 0 0) !important;
  color: oklch(0.145 0 0) !important;
}

/* Search results styling for light theme */
:root[data-theme="light"] .pagefind-ui__result,
:root[data-theme="light"] .pagefind-ui__message,
:root:not([data-theme="dark"]) .pagefind-ui__result,
:root:not([data-theme="dark"]) .pagefind-ui__message {
  background-color: oklch(1 0 0) !important;
  color: oklch(0.145 0 0) !important;
}

:root[data-theme="light"] .pagefind-ui__search-input::placeholder,
:root[data-theme="light"] input[type="search"]::placeholder,
:root:not([data-theme="dark"]) .pagefind-ui__search-input::placeholder,
:root:not([data-theme="dark"]) input[type="search"]::placeholder {
  color: oklch(0.556 0 0) !important;
}

/* Search hotkey button contrast fix */
:root[data-theme="light"] .pagefind-ui__search-input kbd,
html:not([data-theme="dark"]) .pagefind-ui__search-input kbd {
  background: oklch(0.97 0 0) !important;
  color: oklch(0.371 0 0) !important;
  border-color: oklch(0.922 0 0) !important;
}

:root[data-theme="dark"] .pagefind-ui__search-input kbd {
  background: oklch(0.269 0 0) !important;
  color: oklch(0.85 0 0) !important;
  border-color: oklch(0.325 0 0) !important;
}

/* Header text colors for light theme */
:root[data-theme="light"] h1,
:root[data-theme="light"] h2,
:root[data-theme="light"] h3,
:root[data-theme="light"] h4,
:root[data-theme="light"] h5,
:root[data-theme="light"] h6,
:root:not([data-theme="dark"]) h1,
:root:not([data-theme="dark"]) h2,
:root:not([data-theme="dark"]) h3,
:root:not([data-theme="dark"]) h4,
:root:not([data-theme="dark"]) h5,
:root:not([data-theme="dark"]) h6 {
  color: oklch(0.145 0 0) !important;
}

/* Header text colors for dark theme */
:root[data-theme="dark"] h1,
:root[data-theme="dark"] h2,
:root[data-theme="dark"] h3,
:root[data-theme="dark"] h4,
:root[data-theme="dark"] h5,
:root[data-theme="dark"] h6 {
  color: oklch(0.985 0 0) !important;
}

/* Sidebar header text contrast fix */
.sidebar-pane h2,
.sidebar-pane .top-level > summary {
  color: var(--sl-color-gray-1) !important;
  font-weight: 600;
}

/* Page title and main content headers */
:root[data-theme="light"] .content-panel h1,
:root[data-theme="light"] .page-title,
:root[data-theme="light"] .sl-markdown-content h1,
:root[data-theme="light"] .sl-markdown-content h2,
:root[data-theme="light"] .sl-markdown-content h3,
:root[data-theme="light"] .sl-markdown-content h4,
:root:not([data-theme="dark"]) .content-panel h1,
:root:not([data-theme="dark"]) .page-title,
:root:not([data-theme="dark"]) .sl-markdown-content h1,
:root:not([data-theme="dark"]) .sl-markdown-content h2,
:root:not([data-theme="dark"]) .sl-markdown-content h3,
:root:not([data-theme="dark"]) .sl-markdown-content h4 {
  color: oklch(0.145 0 0) !important;
}

:root[data-theme="dark"] .content-panel h1,
:root[data-theme="dark"] .page-title,
:root[data-theme="dark"] .sl-markdown-content h1,
:root[data-theme="dark"] .sl-markdown-content h2,
:root[data-theme="dark"] .sl-markdown-content h3,
:root[data-theme="dark"] .sl-markdown-content h4 {
  color: oklch(0.985 0 0) !important;
}

/* default is --sl-sidebar-width, but when increasing left, it should be possible to reduce right */
.right-sidebar-container .astro-wxn7k47k {
  width: 15rem !important;
}

.right-sidebar-container:where(.astro-wxn7k47k) {
  width: 15rem !important;
}

:where(.astro-3ii7xxms)[aria-current="page"],
:where(.astro-3ii7xxms)[aria-current="page"]:hover,
:where(.astro-3ii7xxms)[aria-current="page"]:focus {
  color: var(--sl-color-text);
  border: 1px solid var(--sl-color-text-accent);
  background-color: var(--sl-color-background);
}

/* avoids flackering when switching between items */
:where(.astro-3ii7xxms) {
  border: 1px solid transparent;
}

/* keep top level sidebar items formatted in  bold */
ul:not(.large) :where(.astro-3ii7xxms)[aria-current="page"],
ul:not(.large) :where(.astro-3ii7xxms)[aria-current="page"]:hover,
ul:not(.large) :where(.astro-3ii7xxms)[aria-current="page"]:focus {
  font-weight: 400;
}

a[role="tab"],
a[role="tab"]:hover,
a[role="tab"]:focus {
  border: none !important;
  border-bottom: 2px solid transparent !important;
}

/* Active state - only change bottom border color */
a[role="tab"][aria-selected="true"],
a[role="tab"][aria-selected="true"]:hover,
a[role="tab"][aria-selected="true"]:focus {
  border-bottom-color: var(--sl-color-text-accent) !important;
}

/* Back to top button styling */
.scroll-to-top-button {
  width: 35px !important;
  height: 35px !important;
  border-radius: 0px !important; /* Match ricochet-ui sharp corners */
}

/* Light theme back to top button */
:root[data-theme="light"] .scroll-to-top-button,
html:not([data-theme="dark"]) .scroll-to-top-button {
  background-color: oklch(0.205 0 0) !important;
  color: oklch(0.985 0 0) !important;
  border: 1px solid oklch(0.922 0 0) !important;
}

:root[data-theme="light"] .scroll-to-top-button:hover,
html:not([data-theme="dark"]) .scroll-to-top-button:hover {
  background-color: oklch(0.145 0 0) !important;
}

/* Dark theme back to top button */
:root[data-theme="dark"] .scroll-to-top-button {
  background-color: oklch(0.922 0 0) !important;
  color: oklch(0.145 0 0) !important;
  border: 1px solid oklch(0.325 0 0) !important;
}

:root[data-theme="dark"] .scroll-to-top-button:hover {
  background-color: oklch(0.985 0 0) !important;
}

@media (max-width: 768px) {
  .sl-container:where(.astro-7nkwcw3z) {
    max-width: 95%;
    margin: auto;
  }
}
