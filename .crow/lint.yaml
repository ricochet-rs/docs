when:
  - event: pull_request
    branch: ${CI_REPO_DEFAULT_BRANCH}
  - event: cron
    cron: nightly
  - event: push
    branch:
      - ${CI_REPO_DEFAULT_BRANCH}

labels:
  type: static

steps:
  editor-config:
    image: reg.ricochet.rs/docker.io/mstruebing/editorconfig-checker:v3.6.1
    depends_on: []

  prettier:
    image: oven/bun:1.3
    commands:
      - bun install
      - bun prettier --check .
    depends_on: []

  commitlint:
    when:
      - event: pull_request
      - event: pull_request_edited
    image: reg.ricochet.rs/docker.io/commitlint/commitlint:20.4.1
    commands:
      - echo $${CI_COMMIT_PULL_REQUEST_TITLE} | commitlint
