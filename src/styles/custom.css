@import "@astrojs/starlight-tailwind";

@import "tailwindcss/theme.css" layer(theme);
@import "tailwindcss/utilities.css" layer(utilities);

@layer base, starlight, nova, theme, components, utilities;

@layer theme {
  * {
    --radius-none: 0;
    --radius-sm: 0;
    --radius-md: 0;
    --radius-lg: 0;
    --radius-xl: 0;
    --radius-2xl: 0;
    --radius-3xl: 0;
    --radius-full: 0;
  }
}

/* Override Starlight component border-radius */
@layer components {
  * {
    border-radius: 0 !important;
  }
}

/* avoids flackering when switching between items */
:where(.astro-3ii7xxms) {
  border: 1px solid transparent;
}

/* Override sidebar tab styles */
.tab > [role="tab"] {
  border: none !important;
  border-bottom: 2px solid transparent !important;
}

.tab > [role="tab"][aria-selected="true"] {
  border-bottom: 2px solid var(--sl-color-text-accent) !important;
}

/* Theme-responsive logo */
.theme-logo {
  display: inline-block;
}

/* SVG defaults to black in light mode - invert for dark mode */
[data-theme="light"] .theme-logo {
  filter: invert(1);
}

/* Sidebar styles using shadcn sidebar variables */
.sidebar-content {
  background-color: var(--sidebar);
}

.sidebar-content a:hover,
.sidebar-content a:focus {
  background-color: var(--sidebar-accent) !important;
  color: var(--sidebar-accent-foreground) !important;
}

/* Custom root styles */
:root {
  /* Smaller base font size (default is 16px) */
  font-size: 14px;
  /* ToC (right sidebar) width */
  --toc-width: 15rem;
  /* Main content width (default is ~700px) */
  --sl-content-width: 800px;
  /* Code font size */
  --sl-text-code: 0.775rem;
}

@media (min-width: 72rem) {
  .right-sidebar-container,
  .right-sidebar {
    width: var(--toc-width);
  }
}

/* Style inline code in headings */
h1 code,
h2 code,
h3 code,
h4 code,
h5 code,
h6 code {
  font-family: var(--sl-font-mono);
  font-size: 0.85em;
  background-color: var(--sl-color-bg-inline-code);
  padding: 0.1em 0.3em;
}
