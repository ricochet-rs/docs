@import "@astrojs/starlight-tailwind";

@import "tailwindcss/theme.css" layer(theme);
@import "tailwindcss/utilities.css" layer(utilities);

@layer base, starlight, theme, components, utilities;

.dark {
  /* Dark mode sidebar background - match Ricochet app */
  --sl-color-bg-sidebar: lab(7.78201% -0.0000149012 0);

  --sl-sidebar-item-bg-active: oklch(0.985 0 0);
  --sl-sidebar-item-text-active: oklch(0.145 0 0);
}

/* Light mode accent color */
:root,
:root[data-theme="light"] {
  --sl-color-text-accent: #c833f2;
}

/* Dark mode accent color */
:root[data-theme="dark"] {
  --sl-color-text-accent: #e554ce;
}

@layer theme {
  * {
    --radius-none: 0;
    --radius-sm: 0;
    --radius-md: 0;
    --radius-lg: 0;
    --radius-xl: 0;
    --radius-2xl: 0;
    --radius-3xl: 0;
    --radius-full: 0;
  }
}

/* Override Starlight component border-radius */
@layer components {
  * {
    border-radius: 0 !important;
  }
}

/* avoids flackering when switching between items */
:where(.astro-3ii7xxms) {
  border: 1px solid transparent;
}

/* Override sidebar tab styles */
.tab > [role="tab"] {
  border: none !important;
  border-bottom: 2px solid transparent !important;
}

.tab > [role="tab"][aria-selected="true"] {
  border-bottom: 2px solid var(--sl-color-text-accent) !important;
}

/* Theme-responsive logo */
.theme-logo {
  display: inline-block;
}

/* SVG defaults to black in light mode - invert for dark mode */
[data-theme="dark"] .theme-logo {
  filter: invert(1);
}
