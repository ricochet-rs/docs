<body>
<div class="frontmatter">
<div class="title"><h1>Scheduling content</h1></div>
</div>
<div class="body">
<p>All tasks can be scheduled. This includes, R / Julia scripts, R Markdown, or Quarto documents.</p>
<p>Items can be scheduled using cron syntax. ricochet utilizes <a href="https://github.com/hexagon/croner-rust">croner</a> for cron schedule parsing.</p>
<div class="callout-tip">
<p>All cron schedules are in UTC at present.</p>
</div>
<h2 id="sec:scheduling">Scheduling</h2>
<p>Tasks can be scheduled using the ricochet UI, R package, or the REST API.</p>
<p>To schedule an item using the R package:</p>
<pre class="shiki shiki-themes github-light catppuccin-mocha" style="background-color:#fff;--shiki-dark-bg:#1e1e2e;color:#24292e;--shiki-dark:#cdd6f4" tabindex="0"><code><span class="line"><span style="color:#005CC5;font-style:inherit;--shiki-dark:#89B4FA;--shiki-dark-font-style:italic">library</span><span style="color:#24292E;--shiki-dark:#9399B2">(</span><span style="color:#24292E;--shiki-dark:#CDD6F4">ricochet</span><span style="color:#24292E;--shiki-dark:#9399B2">)</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#CDD6F4">schedule</span><span style="color:#24292E;--shiki-dark:#9399B2">(</span><span style="color:#032F62;--shiki-dark:#A6E3A1">"01JT1AAJY0EVDE4C0277XX148R"</span><span style="color:#24292E;--shiki-dark:#9399B2">,</span><span style="color:#032F62;--shiki-dark:#A6E3A1"> "@hourly"</span><span style="color:#24292E;--shiki-dark:#9399B2">)</span></span>
<span class="line"></span></code></pre>
<p>Or using the REST API:</p>
<pre class="shiki shiki-themes github-light catppuccin-mocha" style="background-color:#fff;--shiki-dark-bg:#1e1e2e;color:#24292e;--shiki-dark:#cdd6f4" tabindex="0"><code><span class="line"><span style="color:#6F42C1;font-style:inherit;--shiki-dark:#89B4FA;--shiki-dark-font-style:italic">curl</span><span style="color:#005CC5;--shiki-dark:#A6E3A1"> -X</span><span style="color:#032F62;--shiki-dark:#A6E3A1"> PATCH</span><span style="color:#005CC5;--shiki-dark:#F5C2E7"> \</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#A6E3A1">  'https://ricochet.rs/api/v0/content/01JT1AAJY0EVDE4C0277XX148R/schedule'</span><span style="color:#005CC5;--shiki-dark:#F5C2E7"> \</span></span>
<span class="line"><span style="color:#005CC5;--shiki-dark:#A6E3A1">  -H</span><span style="color:#032F62;--shiki-dark:#A6E3A1"> 'Authorization: Key rico_wuvV9j9JurM_H2cP4wCQiQVjeAbdsYce5MVyze9RqzSQp'</span><span style="color:#005CC5;--shiki-dark:#F5C2E7"> \</span></span>
<span class="line"><span style="color:#005CC5;--shiki-dark:#A6E3A1">  -H</span><span style="color:#032F62;--shiki-dark:#A6E3A1"> 'Content-Type: application/json'</span><span style="color:#005CC5;--shiki-dark:#F5C2E7"> \</span></span>
<span class="line"><span style="color:#005CC5;--shiki-dark:#A6E3A1">  -d</span><span style="color:#032F62;--shiki-dark:#A6E3A1"> '{"schedule": "* * * * *"}'</span></span>
<span class="line"></span></code></pre>
<h2 id="sec:cron-patterns">cron patterns</h2>
<p>Traditional cron patterns can be provided using the following POSIX-like format:</p>
<pre class="shiki shiki-themes github-light catppuccin-mocha" style="background-color:#fff;--shiki-dark-bg:#1e1e2e;color:#24292e;--shiki-dark:#cdd6f4" tabindex="0"><code><span class="line"><span>┌──────────────── (optional) second (0 - 59)</span></span>
<span class="line"><span>│ ┌────────────── minute (0 - 59)</span></span>
<span class="line"><span>│ │ ┌──────────── hour (0 - 23)</span></span>
<span class="line"><span>│ │ │ ┌────────── day of month (1 - 31)</span></span>
<span class="line"><span>│ │ │ │ ┌──────── month (1 - 12, JAN-DEC)</span></span>
<span class="line"><span>│ │ │ │ │ ┌────── day of week (0 - 6, SUN-Mon)</span></span>
<span class="line"><span>│ │ │ │ │ │       (0 to 6 are Sunday to Saturday; 7 is Sunday, the same as 0)</span></span>
<span class="line"><span>│ │ │ │ │ │</span></span>
<span class="line"><span>* * * * * *</span></span>
<span class="line"><span></span></span></code></pre>
<p>For example, to schedule an item to run every other hour use <code>0 */2 * * *</code>.</p>
<h2 id="sec:expression-modifiers">Expression modifiers</h2>
<p>cron expressions can also take advantage of the modifiers: <code>L</code>, <code>#</code>, and <code>W</code>.</p>
<h3 id="sec:last-modifiers">
<code>L</code>ast modifiers</h3>
<p><code>L</code> is used to denote the last day of the week or month. This can be used in the “Day of Month” or “Day of Week” fields.</p>
<p>For example, <code>"0 0 L * *"</code> will schedule the item to be invoked every last day of the month. The <code>*</code> in the day of week field is ignored.</p>
<h3 id="sec:nth-modifier">nth modifier</h3>
<p>The <code>#</code> modifier can be used to specify which occurence of a particular day in a month. This can only be used in the “Day of Week” field.</p>
<p>For example, using <code>0 0 * * FRI#2</code> would specify the item to be invoked every second Friday of a month.</p>
<h3 id="sec:closest-weekday-modifier">Closest <code>W</code>eekday modifier</h3>
<p>The <code>W</code> modifier can be used to specify the closes weekday to a day of the month. This can only be utilized in the “Day of Month” field.</p>
<p>Using <code>10W</code> will find the closest weekday to the 10th of the month. If the 10th falls on a Saturday, it will match to the 9th (Friday). Or if the 10th is a Sunday, it will be matched to the 11th (Monday).</p>
<h2 id="sec:shorthands">Shorthands</h2>
<p>Additionally, shorthand patterns can be specified:</p>
<pre class="shiki shiki-themes github-light catppuccin-mocha" style="background-color:#fff;--shiki-dark-bg:#1e1e2e;color:#24292e;--shiki-dark:#cdd6f4" tabindex="0"><code><span class="line"><span>@yearly	  Run once a year, ie. "0 0 1 1 *".</span></span>
<span class="line"><span>@annually Run once a year, ie. "0 0 1 1 *".</span></span>
<span class="line"><span>@monthly  Run once a month, ie. "0 0 1 * *".</span></span>
<span class="line"><span>@weekly	  Run once a week, ie. "0 0 * * 0".</span></span>
<span class="line"><span>@daily	  Run once a day, ie. "0 0 * * *".</span></span>
<span class="line"><span>@hourly	  Run once an hour, ie. "0 * * * *".</span></span>
<span class="line"><span></span></span></code></pre>
</div>
</body>